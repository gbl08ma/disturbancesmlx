{{template "header.html" . }}
  <div class="widecontent">
    <div class="pure-g">
      <div class="pure-u-1 pure-u-md-1-3" style="text-align: center;">
          {{template "sidebar.html" . }}
      </div>
      <div class="pure-u-1 pure-u-md-2-3">
        <h1>Classificações</h1>
        {{ range $leaderboard := .Leaderboards }}
        <h2>{{ formatLeaderboardWeek $leaderboard.Start }}</h2>
        {{ if (eq (len $leaderboard.Entries) 0) }}
          <p>Ninguém participou nesta semana.</p>
        {{else}}
          <table class="pure-table pure-table-horizontal" style="width: 100%">
            <thead>
              <tr>
                <th>Posição</th>
                <th>Utilizador</th>
                <th>XP ganhos</th>
              </tr>
            </thead>
        
            <tbody>
              {{ range $entry := $leaderboard.Entries }}
              {{ $isself := (eq $entry.Player.DiscordID $.Player.DiscordID ) }}
              <tr {{if $isself }}style="background-color: rgb(255, 234, 133);"{{end}}>
                <td style="white-space: nowrap;">{{ $entry.Position }}º</td>
                <td>{{ if (eq $entry.Player.LBPrivacy "PUBLIC")}}{{ $entry.Player.CachedName }}{{else if $isself }}{{ $entry.Player.CachedName }}<br><em style="font-size: 75%">os outros utilizadores não vêem este nome - <a href="/posplay/settings">definições</a></em>{{else}}<em>Jogador anónimo</em>{{end}}</td>
                <td style="white-space: nowrap;">{{ $entry.Score }} XP</td>
              </tr>
              {{ end }}
            </tbody>
          </table>
          {{end}}
        {{end}}
      </div>
    </div>
  </div>
{{template "footer.html" . }}